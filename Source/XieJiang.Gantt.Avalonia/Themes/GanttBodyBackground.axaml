<ResourceDictionary
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:XieJiang.Gantt.Avalonia">

    <Design.PreviewWith>
        <Panel
            Width="800"
            Height="500"
            Background="CornflowerBlue">
            <controls:GanttBodyBackground
                Margin="10"
                VerticalAlignment="Stretch" />
        </Panel>
    </Design.PreviewWith>


    <ControlTheme
        x:Key="{x:Type controls:GanttBodyBackground}"
        TargetType="controls:GanttBodyBackground">
        <Setter Property="Template">
            <ControlTemplate>
                <ItemsControl ItemsSource="{TemplateBinding DateItems}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.DataTemplates>
                        <DataTemplate DataType="controls:DayItem">
                            <Panel>
                                <Rectangle
                                    Width="{Binding RelativeSource={RelativeSource Self},
                                                                    Path=(controls:GanttControl.DayWidth)}"
                                    Fill="{Binding IsRestDay,
                                                   Converter={StaticResource RestDayBgConverter}}" />

                                <Rectangle
                                    Width="1"
                                    HorizontalAlignment="Left"
                                    Fill="{Binding IsFirstDayOfWeek,
                                                   Converter={StaticResource DarkGridConverter}}" />
                            </Panel>
                        </DataTemplate>
                    </ItemsControl.DataTemplates>
                </ItemsControl>
            </ControlTemplate>
        </Setter>
    </ControlTheme>
</ResourceDictionary>